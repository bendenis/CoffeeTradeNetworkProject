library(tidyverse)
source(get_Comtrade)
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/Data Formating/get_Comtrade")
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade")
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
country_id
library(tidyverse)
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
sugar_data = lapply(1:length(country_id), function(i) get_Comtrade(r = country_id[i], cc = "170111"))
warnings()
sugar_data
get_Comtrade(r = country_id[1], cc = "170111")
get_Comtrade(r = country_id[2], cc = "170111")
get_Comtrade(r = country_id[3], cc = "170111")
get_Comtrade(r = country_id[4], cc = "170111")
length(country_id)
get_Comtrade(r = country_id[254], cc = "170111")
get_Comtrade(r = country_id[253], cc = "170111")
get_Comtrade(r = country_id[252], cc = "170111")
get_Comtrade(r = country_id[251], cc = "170111")
get_Comtrade(r = country_id[150], cc = "170111")
get_Comtrade(r = country_id[4], cc = "170111")
get_Comtrade(r = country_id[5], cc = "170111")
get_Comtrade(r = country_id[150], cc = "170111")
get_Comtrade(r = country_id[151], cc = "170111")
?tryNew
?try
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
sugar_data = lapply(1:50, function(i) get_Comtrade(r = country_id[i], cc = "170111"))
is.function(mean)
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
sugar_data = lapply(1:50, function(i) get_Comtrade(r = country_id[i], cc = "170111"))
get_Comtrade(r = country_id[5], cc = "170111")
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
get_Comtrade(r = country_id[5], cc = "170111")
source("/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/DataFormating/get_Comtrade.R")
get_Comtrade(r = country_id[5], cc = "170111")
get_Comtrade(r = country_id[6], cc = "170111")
get_Comtrade(r = country_id[7], cc = "170111")
get_Comtrade(r = country_id[8], cc = "170111")
get_Comtrade(r = country_id[9], cc = "170111")
get_Comtrade(r = country_id[10], cc = "170111")
get_Comtrade(r = country_id[50], cc = "170111")
get_Comtrade(r = country_id[51], cc = "170111")
get_Comtrade(r = country_id[52], cc = "170111")
get_Comtrade(r = country_id[60], cc = "170111")
get_Comtrade(r = country_id[100], cc = "170111")
get_Comtrade(r = country_id[120], cc = "170111")
get_Comtrade(r = country_id[119], cc = "170111")
get_Comtrade(r = country_id[110], cc = "170111")
get_Comtrade(r = country_id[100], cc = "170111")
get_Comtrade(r = country_id[101], cc = "170111")
get_Comtrade(r = country_id[105], cc = "170111")
get_Comtrade(r = country_id[104], cc = "170111")
get_Comtrade(r = country_id[103], cc = "170111")
get_Comtrade(r = country_id[102], cc = "170111")
get_Comtrade(r = country_id[101], cc = "170111")
get_Comtrade(r = country_id[200], cc = "170111")
sugar_data = lapply(1:101, function(i) get_Comtrade(r = country_id[i], cc = "170111"))
dt = sugar_data[!is.na(sugar_data)]
DT = rbind(dt[[1]],dt[[2]])
for(i in 3:length(dt)){
DT = rbind(DT,dt[[i]])
}
names(DT)
str_replace_all(names(DT),".","_")
str_replace_all(names(DT),"\.","_")
str_replace_all(names(DT),"\\.","_")
colnames(DT) = str_replace_all(names(DT),"\\.","_")
names(DT)
write.csv(DT, file = "/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/Data/sugar_trade.csv")
DTT = DT %>% select(Reporter,Partner,Trade.Value..US..,Netweight..kg.,
Reporter.ISO, Partner.ISO, Commodity, Year) %>% filter(Partner != "World", Reporter != "World")
write.csv(DTT, file = "/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/Data/clean_sugar_trade.csv")
write.csv(DT, file = "/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/Data/sugar_trade.csv")
DTT = DT %>% select(Reporter,Partner,Trade.Value..US..,Netweight..kg.,
Reporter.ISO, Partner.ISO, Commodity, Year) %>% filter(Partner != "World", Reporter != "World")
DTT = DT %>% select(Reporter,Partner,Trade_Value__US__,Netweight__kg_,
Reporter_ISO, Partner_ISO, Commodity, Year) %>% filter(Partner != "World", Reporter != "World")
write.csv(DTT, file = "/Users/bendenisshaffer/Box Sync/UM Fall 2017/SI 608/Project/Data/clean_sugar_trade.csv")
